<?php

error_reporting(0);

$nombre = $_POST['nombre'];

$p1 = $_REQUEST['p1'];
$p2 = $_REQUEST['p2'];
$p3 = $_REQUEST['p3'];
$p4 = $_REQUEST['p4'];
$p5 = $_REQUEST['p5'];
$p6 = $_REQUEST['p6'];
$p7 = $_REQUEST['p7'];
$p8 = $_REQUEST['p8'];
$p9 = $_REQUEST['p9'];
$p10 = $_REQUEST['p10'];
$p11 = $_REQUEST['p11'];
$p12 = $_REQUEST['p12'];
$p13 = $_REQUEST['p13'];
$p14 = $_REQUEST['p14'];
$p15 = $_REQUEST['p15'];
$p16 = $_REQUEST['p16'];
$p17 = $_REQUEST['p17'];
$p18 = $_REQUEST['p18'];
$p19 = $_REQUEST['p19'];
$p20 = $_REQUEST['p20'];
$p21 = $_REQUEST['p21'];
$p22 = $_REQUEST['p22'];
$p23 = $_REQUEST['p23'];
$p24 = $_REQUEST['p24'];
$p25 = $_REQUEST['p25'];
$p26 = $_REQUEST['p26'];
$p27 = $_REQUEST['p27'];
$p28 = $_REQUEST['p28'];
$p29 = $_REQUEST['p29'];
$p30 = $_REQUEST['p30'];
$p31 = $_REQUEST['p31'];
$p32 = $_REQUEST['p32'];
$p33 = $_REQUEST['p33'];
$p34 = $_REQUEST['p34'];
$p35 = $_REQUEST['p35'];
$p36 = $_REQUEST['p36'];
$p37 = $_REQUEST['p37'];
$p38 = $_REQUEST['p38'];
$p39 = $_REQUEST['p39'];
$p40 = $_REQUEST['p40'];

$fsanguineo = 0;
$fcolerico = 0;
$fmelancolico = 0;
$fflematico = 0;

$dsanguineo = 0;
$dcolerico = 0;
$dmelancolico = 0;
$dflematico = 0;

//Calculo para p1

if ($p1 == 's') {$fsanguineo = $fsanguineo + 1;}
if ($p1 == 'c') {$fcolerico = $fcolerico + 1;}
if ($p1 == 'm') {$fmelancolico = $fmelancolico + 1;}
if ($p1 == 'f') {$fflematico = $fflematico +1;}

//Calculo para p2

if ($p2 == 's') {$fsanguineo = $fsanguineo + 1;}
if ($p2 == 'c') {$fcolerico = $fcolerico + 1;}
if ($p2 == 'm') {$fmelancolico = $fmelancolico + 1;}
if ($p2 == 'f') {$fflematico = $fflematico +1;}

//Calculo para p3

if ($p3 == 's') $fsanguineo = $fsanguineo + 1;
if ($p3 == 'c') $fcolerico = $fcolerico + 1;
if ($p3 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p3 == 'f') $fflematico = $fflematico +1;

//Calculo para p4

if ($p4 == 's') $fsanguineo = $fsanguineo + 1;
if ($p4 == 'c') $fcolerico = $fcolerico + 1;
if ($p4 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p4 == 'f') $fflematico = $fflematico +1;

//Calculo para p5

if ($p5 == 's') $fsanguineo = $fsanguineo + 1;
if ($p5 == 'c') $fcolerico = $fcolerico + 1;
if ($p5 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p5 == 'f') $fflematico = $fflematico +1;

//Calculo para p6

if ($p6 == 's') $fsanguineo = $fsanguineo + 1;
if ($p6 == 'c') $fcolerico = $fcolerico + 1;
if ($p6 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p6 == 'f') $fflematico = $fflematico +1;

//Calculo para p7

if ($p7 == 's') $fsanguineo = $fsanguineo + 1;
if ($p7 == 'c') $fcolerico = $fcolerico + 1;
if ($p7 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p7 == 'f') $fflematico = $fflematico +1;

//Calculo para p8

if ($p8 == 's') $fsanguineo = $fsanguineo + 1;
if ($p8 == 'c') $fcolerico = $fcolerico + 1;
if ($p8 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p8 == 'f') $fflematico = $fflematico +1;

//Calculo para p9

if ($p9 == 's') $fsanguineo = $fsanguineo + 1;
if ($p9 == 'c') $fcolerico = $fcolerico + 1;
if ($p9 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p9 == 'f') $fflematico = $fflematico +1;

//Calculo para p10

if ($p10 == 's') $fsanguineo = $fsanguineo + 1;
if ($p10 == 'c') $fcolerico = $fcolerico + 1;
if ($p10 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p10 == 'f') $fflematico = $fflematico +1;

//Calculo para p11

if ($p11 == 's') $fsanguineo = $fsanguineo + 1;
if ($p11 == 'c') $fcolerico = $fcolerico + 1;
if ($p11 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p11 == 'f') $fflematico = $fflematico +1;

//Calculo para p12

if ($p12 == 's') $fsanguineo = $fsanguineo + 1;
if ($p12 == 'c') $fcolerico = $fcolerico + 1;
if ($p12 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p12 == 'f') $fflematico = $fflematico +1;

//Calculo para p13

if ($p13 == 's') $fsanguineo = $fsanguineo + 1;
if ($p13 == 'c') $fcolerico = $fcolerico + 1;
if ($p13 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p13 == 'f') $fflematico = $fflematico +1;

//Calculo para p14

if ($p14 == 's') $fsanguineo = $fsanguineo + 1;
if ($p14 == 'c') $fcolerico = $fcolerico + 1;
if ($p14 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p14 == 'f') $fflematico = $fflematico +1;

//Calculo para p15

if ($p15 == 's') $fsanguineo = $fsanguineo + 1;
if ($p15 == 'c') $fcolerico = $fcolerico + 1;
if ($p15 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p15 == 'f') $fflematico = $fflematico +1;

//Calculo para p16

if ($p16 == 's') $fsanguineo = $fsanguineo + 1;
if ($p16 == 'c') $fcolerico = $fcolerico + 1;
if ($p16 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p16 == 'f') $fflematico = $fflematico +1;

//Calculo para p17

if ($p17 == 's') $fsanguineo = $fsanguineo + 1;
if ($p17 == 'c') $fcolerico = $fcolerico + 1;
if ($p17 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p17 == 'f') $fflematico = $fflematico +1;

//Calculo para p18

if ($p18 == 's') $fsanguineo = $fsanguineo + 1;
if ($p18 == 'c') $fcolerico = $fcolerico + 1;
if ($p18 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p18 == 'f') $fflematico = $fflematico +1;

//Calculo para p19

if ($p19 == 's') $fsanguineo = $fsanguineo + 1;
if ($p19 == 'c') $fcolerico = $fcolerico + 1;
if ($p19 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p19 == 'f') $fflematico = $fflematico +1;

//Calculo para p20

if ($p20 == 's') $fsanguineo = $fsanguineo + 1;
if ($p20 == 'c') $fcolerico = $fcolerico + 1;
if ($p20 == 'm') $fmelancolico = $fmelancolico + 1;
if ($p20 == 'f') $fflematico = $fflematico +1;

//Calculo para p21

if ($p21 == 's') $dsanguineo = $dsanguineo + 1;
if ($p21 == 'c') $dcolerico = $dcolerico + 1;
if ($p21 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p21 == 'f') $dflematico = $dflematico +1;

//Calculo para p22

if ($p22 == 's') $dsanguineo = $dsanguineo + 1;
if ($p22 == 'c') $dcolerico = $dcolerico + 1;
if ($p22 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p22 == 'f') $dflematico = $dflematico +1;

//Calculo para p23

if ($p23 == 's') $dsanguineo = $dsanguineo + 1;
if ($p23 == 'c') $dcolerico = $dcolerico + 1;
if ($p23 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p23 == 'f') $dflematico = $dflematico +1;

//Calculo para p24

if ($p24 == 's') $dsanguineo = $dsanguineo + 1;
if ($p24 == 'c') $dcolerico = $dcolerico + 1;
if ($p24 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p24 == 'f') $dflematico = $dflematico +1;

//Calculo para p25

if ($p25 == 's') $dsanguineo = $dsanguineo + 1;
if ($p25 == 'c') $dcolerico = $dcolerico + 1;
if ($p25 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p25 == 'f') $dflematico = $dflematico +1;

//Calculo para p26

if ($p26 == 's') $dsanguineo = $dsanguineo + 1;
if ($p26 == 'c') $dcolerico = $dcolerico + 1;
if ($p26 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p26 == 'f') $dflematico = $dflematico +1;

//Calculo para p27

if ($p27 == 's') $dsanguineo = $dsanguineo + 1;
if ($p27 == 'c') $dcolerico = $dcolerico + 1;
if ($p27 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p27 == 'f') $dflematico = $dflematico +1;

//Calculo para p28

if ($p28 == 's') $dsanguineo = $dsanguineo + 1;
if ($p28 == 'c') $dcolerico = $dcolerico + 1;
if ($p28 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p28 == 'f') $dflematico = $dflematico +1;

//Calculo para p29

if ($p29 == 's') $dsanguineo = $dsanguineo + 1;
if ($p29 == 'c') $dcolerico = $dcolerico + 1;
if ($p29 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p29 == 'f') $dflematico = $dflematico +1;

//Calculo para p30

if ($p30 == 's') $dsanguineo = $dsanguineo + 1;
if ($p30 == 'c') $dcolerico = $dcolerico + 1;
if ($p30 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p30 == 'f') $dflematico = $dflematico +1;

//Calculo para p31

if ($p31 == 's') $dsanguineo = $dsanguineo + 1;
if ($p31 == 'c') $dcolerico = $dcolerico + 1;
if ($p31 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p31 == 'f') $dflematico = $dflematico +1;

//Calculo para p32

if ($p32 == 's') $dsanguineo = $dsanguineo + 1;
if ($p32 == 'c') $dcolerico = $dcolerico + 1;
if ($p32 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p32 == 'f') $dflematico = $dflematico +1;

//Calculo para p33

if ($p33 == 's') $dsanguineo = $dsanguineo + 1;
if ($p33 == 'c') $dcolerico = $dcolerico + 1;
if ($p33 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p33 == 'f') $dflematico = $dflematico +1;

//Calculo para p34

if ($p34 == 's') $dsanguineo = $dsanguineo + 1;
if ($p34 == 'c') $dcolerico = $dcolerico + 1;
if ($p34 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p34 == 'f') $dflematico = $dflematico +1;

//Calculo para p35

if ($p35 == 's') $dsanguineo = $dsanguineo + 1;
if ($p35 == 'c') $dcolerico = $dcolerico + 1;
if ($p35 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p35 == 'f') $dflematico = $dflematico +1;

//Calculo para p36

if ($p36 == 's') $dsanguineo = $dsanguineo + 1;
if ($p36 == 'c') $dcolerico = $dcolerico + 1;
if ($p36 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p36 == 'f') $dflematico = $dflematico +1;

//Calculo para p37

if ($p37 == 's') $dsanguineo = $dsanguineo + 1;
if ($p37 == 'c') $dcolerico = $dcolerico + 1;
if ($p37 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p37 == 'f') $dflematico = $dflematico +1;

//Calculo para p38

if ($p38 == 's') $dsanguineo = $dsanguineo + 1;
if ($p38 == 'c') $dcolerico = $dcolerico + 1;
if ($p38 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p38 == 'f') $dflematico = $dflematico +1;

//Calculo para p39

if ($p39 == 's') $dsanguineo = $dsanguineo + 1;
if ($p39 == 'c') $dcolerico = $dcolerico + 1;
if ($p39 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p39 == 'f') $dflematico = $dflematico +1;

//Calculo para p40

if ($p40 == 's') $dsanguineo = $dsanguineo + 1;
if ($p40 == 'c') $dcolerico = $dcolerico + 1;
if ($p40 == 'm') $dmelancolico = $dmelancolico + 1;
if ($p40 == 'f') $dflematico = $dflematico +1;


//Totalizando

$tsanguineo = $fsanguineo + $dsanguineo;
$tcolerico = $fcolerico + $dcolerico;
$tmelancolico = $fmelancolico + $dmelancolico;
$tflematico = $fflematico + $dflematico;

echo 'Respuestas fortalezas<br>';
echo 'sanguineo: '.$fsanguineo.'<br>';
echo 'colerico: '.$fcolerico.'<br>';
echo 'melancolico: '.$fmelancolico.'<br>';
echo 'flematico: '.$fflematico.'<br><br><br>';

echo 'Respuestas debilidades<br>';
echo 'sanguineo: '.$dsanguineo.'<br>';
echo 'colerico: '.$dcolerico.'<br>';
echo 'melancolico: '.$dmelancolico.'<br>';
echo 'flematico: '.$dflematico.'<br><br>';

// Determinando el porcentaje.

$psanguineo = $tsanguineo * 100 / 40;
$pcolerico = $tcolerico * 100 / 40;
$pmelancolico = $tmelancolico * 100 / 40;
$pflematico = $tflematico * 100 / 40;

echo 'Total<br>';
echo 'Sanguineo: '.$tsanguineo.', Equivalente a un '.$psanguineo.' %<br>';
echo 'Colerico: '.$tcolerico.', Equivalente a un '.$pcolerico.' %<br>';
echo 'Melancolico: '.$tmelancolico.', Equivalente a un '.$pmelancolico.' %<br>';
echo 'Flematico: '.$tflematico.', Equivalente a un '.$pflematico.' %<br>';

$rtotal = $tsanguineo + $tcolerico + $tmelancolico + $tflematico;

if ($rtotal < 40){echo 'Faltan preguntas por contestar';}

else{

	$conexion = mysql_connect("localhost", "root","");
	mysql_select_db("temperamento",$conexion);
	$sql = "INSERT INTO test(nombre,sanguineo,colerico,melancolico,flematico) VALUES ('$nombre','$tsanguineo','$tcolerico','$tmelancolico','$tflematico')";
	mysql_query($sql);
}

?>